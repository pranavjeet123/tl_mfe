{"version":3,"file":"__federation_expose_Module.js","sources":["webpack://maps/../../node_modules/leaflet/dist/leaflet.css?352e","webpack://maps/./src/styles.css?5117","webpack://maps/./src/app/app.tsx","webpack://maps/./src/app/components/CandidateMarker.tsx","webpack://maps/./src/app/components/LocationList.tsx","webpack://maps/./src/app/components/POIMap.tsx","webpack://maps/./src/app/components/POIMarker.tsx","webpack://maps/./src/app/components/VueAppWrapper.tsx","webpack://maps/./src/app/maps-welcome.tsx","webpack://maps/./src/app/services/mockDataService.ts","webpack://maps/./src/remote-entry.ts","webpack://maps/./src/services/communication.ts"],"sourcesContent":["// extracted by css-extract-rspack-plugin\nexport {};","// extracted by css-extract-rspack-plugin\nexport {};","import { MapsWelcome } from './maps-welcome';\nimport LocationList from './components/LocationList';\nimport VueAppWrapper from './components/VueAppWrapper';\nimport '../styles.css';\n\nexport default function App() {\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      <div className=\"container mx-auto p-4\">\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n          {/* Left column - Map and Location Data */}\n          <div className=\"flex flex-col gap-6\">\n            <MapsWelcome />\n          </div>\n          \n          {/* Right column - Location Candidates */}\n          <div className=\"flex flex-col gap-6\">\n            <LocationList />\n          </div>\n        </div>\n        \n        {/* Full width section - Vue App Rankings */}\n        <div className=\"mt-6\">\n          <VueAppWrapper />\n        </div>\n      </div>\n    </div>\n  );\n}\n","import { Marker, Popup } from 'react-leaflet';\nimport L from 'leaflet';\nimport { GeoFeature, Candidate } from '../services/mockDataService';\n\ninterface CandidateMarkerProps {\n  feature: GeoFeature;\n  isFavorite?: boolean;\n  onToggleFavorite?: (candidateId: string) => void;\n}\n\nconst createCandidateIcon = (rentValue: number) => {\n  // Color-code based on rent value\n  const getColor = (rent: number): string => {\n    if (rent >= 80000) return '#EF4444'; // Red for high rent\n    if (rent >= 65000) return '#F59E0B'; // Orange for medium-high rent\n    if (rent >= 50000) return '#10B981'; // Green for medium rent\n    return '#3B82F6'; // Blue for low rent\n  };\n\n  const color = getColor(rentValue);\n  const html = `\n    <div style=\"\n      background: ${color}; \n      border: 2px solid white; \n      border-radius: 50%; \n      width: 25px; \n      height: 25px; \n      display: flex; \n      align-items: center; \n      justify-content: center; \n      font-size: 12px;\n      font-weight: bold;\n      color: white;\n      box-shadow: 0 2px 4px rgba(0,0,0,0.3);\n    \">\n      ‚Çπ\n    </div>\n  `;\n\n  return L.divIcon({\n    html,\n    className: 'custom-candidate-marker',\n    iconSize: [25, 25],\n    iconAnchor: [12.5, 12.5],\n    popupAnchor: [0, -12.5],\n  });\n};\n\nexport function CandidateMarker({ feature, isFavorite = false, onToggleFavorite }: CandidateMarkerProps) {\n  const { coordinates } = feature.geometry;\n  const properties = feature.properties as Candidate;\n  // Convert from GeoJSON [longitude, latitude] to Leaflet [latitude, longitude]\n  const position: [number, number] = [coordinates[1], coordinates[0]];\n\n  const getRentCategory = (rent: number): string => {\n    if (rent >= 80000) return 'High (‚Çπ80K+)';\n    if (rent >= 65000) return 'Medium-High (‚Çπ65K-80K)';\n    if (rent >= 50000) return 'Medium (‚Çπ50K-65K)';\n    return 'Low (‚Çπ50K-)';\n  };\n\n  const getRentColor = (rent: number): string => {\n    if (rent >= 80000) return '#EF4444';\n    if (rent >= 65000) return '#F59E0B';\n    if (rent >= 50000) return '#10B981';\n    return '#3B82F6';\n  };\n\n  return (\n    <Marker \n      position={position} \n      icon={createCandidateIcon(properties.estimated_rent)}\n    >\n      <Popup maxWidth={300}>\n        <div className=\"p-2\">\n          <div className=\"flex items-center justify-between mb-2\">\n            <div className=\"flex items-center\">\n              <span \n                className=\"inline-block w-3 h-3 rounded-full mr-2\"\n                style={{ backgroundColor: getRentColor(properties.estimated_rent) }}\n              ></span>\n              <h3 className=\"text-lg font-semibold text-gray-800\">\n                Candidate Location\n              </h3>\n            </div>\n            {onToggleFavorite && (\n              <button\n                onClick={() => onToggleFavorite(properties.id)}\n                className={`p-1 rounded-full transition-colors ${\n                  isFavorite \n                    ? 'text-red-500 hover:text-red-600' \n                    : 'text-gray-400 hover:text-red-500'\n                }`}\n                title={isFavorite ? 'Remove from favorites' : 'Add to favorites'}\n              >\n                <span \n                  className=\"text-lg\"\n                  role=\"img\"\n                  aria-label={isFavorite ? 'Remove from favorites' : 'Add to favorites'}\n                >\n                  {isFavorite ? '‚ù§Ô∏è' : 'ü§ç'}\n                </span>\n              </button>\n            )}\n          </div>\n          \n          <div className=\"mb-2\">\n            <span \n              className=\"inline-block px-2 py-1 text-xs font-medium rounded text-white\"\n              style={{ backgroundColor: getRentColor(properties.estimated_rent) }}\n            >\n              {getRentCategory(properties.estimated_rent)}\n            </span>\n          </div>\n\n          <div className=\"space-y-2\">\n            <div className=\"text-sm\">\n              <span className=\"font-medium text-gray-700\">Estimated Rent:</span>\n              <span className=\"ml-2 text-lg font-bold text-gray-900\">\n                ‚Çπ{properties.estimated_rent.toLocaleString('en-IN')}/month\n              </span>\n            </div>\n            \n            <div className=\"text-sm\">\n              <span className=\"font-medium text-gray-700\">Location ID:</span>\n              <span className=\"ml-2 text-gray-600\">{properties.id}</span>\n            </div>\n\n            {properties.notes && (\n              <div className=\"text-sm\">\n                <span className=\"font-medium text-gray-700\">Notes:</span>\n                <p className=\"mt-1 text-gray-600 italic\">{properties.notes}</p>\n              </div>\n            )}\n          </div>\n\n          <div className=\"mt-3 pt-2 border-t border-gray-200\">\n            <div className=\"text-xs text-gray-500\">\n              Lat: {coordinates[1].toFixed(4)}, Lng: {coordinates[0].toFixed(4)}\n            </div>\n          </div>\n        </div>\n      </Popup>\n    </Marker>\n  );\n}\n","import React, { useState, useEffect } from 'react';\nimport { Feature, FeatureCollection, CandidateLocation } from '../../types';\nimport { getCommunicationService } from '../../services/communication';\n\n// Import the data directly as a TypeScript object\nconst mockData: FeatureCollection = {\n  \"type\": \"FeatureCollection\",\n  \"features\": [\n    {\n      \"type\": \"Feature\",\n      \"properties\": {\n        \"id\": \"cand-001\",\n        \"type\": \"candidate\",\n        \"estimated_rent\": 85000,\n        \"notes\": \"near TechPark A, good office density\"\n      },\n      \"geometry\": { \"type\": \"Point\", \"coordinates\": [77.5958, 12.9718] }\n    },\n    {\n      \"type\": \"Feature\",\n      \"properties\": {\n        \"id\": \"cand-002\",\n        \"type\": \"candidate\",\n        \"estimated_rent\": 72000,\n        \"notes\": \"close to Metro Station X\"\n      },\n      \"geometry\": { \"type\": \"Point\", \"coordinates\": [77.5985, 12.9716] }\n    },\n    {\n      \"type\": \"Feature\",\n      \"properties\": {\n        \"id\": \"cand-003\",\n        \"type\": \"candidate\",\n        \"estimated_rent\": 65000,\n        \"notes\": \"residential cluster nearby\"\n      },\n      \"geometry\": { \"type\": \"Point\", \"coordinates\": [77.5965, 12.9640] }\n    },\n    {\n      \"type\": \"Feature\",\n      \"properties\": {\n        \"id\": \"cand-004\",\n        \"type\": \"candidate\",\n        \"estimated_rent\": 90000,\n        \"notes\": \"edge of Central Mall catchment\"\n      },\n      \"geometry\": { \"type\": \"Point\", \"coordinates\": [77.6090, 12.9710] }\n    },\n    {\n      \"type\": \"Feature\",\n      \"properties\": {\n        \"id\": \"cand-005\",\n        \"type\": \"candidate\",\n        \"estimated_rent\": 48000,\n        \"notes\": \"near bus interchange, lower rent\"\n      },\n      \"geometry\": { \"type\": \"Point\", \"coordinates\": [77.5898, 12.9732] }\n    },\n    {\n      \"type\": \"Feature\",\n      \"properties\": {\n        \"id\": \"cand-006\",\n        \"type\": \"candidate\",\n        \"estimated_rent\": 56000,\n        \"notes\": \"close to Creative Hub, medium office density\"\n      },\n      \"geometry\": { \"type\": \"Point\", \"coordinates\": [77.6165, 12.9675] }\n    },\n    {\n      \"type\": \"Feature\",\n      \"properties\": {\n        \"id\": \"cand-007\",\n        \"type\": \"candidate\",\n        \"estimated_rent\": 42000,\n        \"notes\": \"residential area with several households\"\n      },\n      \"geometry\": { \"type\": \"Point\", \"coordinates\": [77.6030, 12.9605] }\n    },\n    {\n      \"type\": \"Feature\",\n      \"properties\": {\n        \"id\": \"cand-008\",\n        \"type\": \"candidate\",\n        \"estimated_rent\": 78000,\n        \"notes\": \"near FinTech Tower\"\n      },\n      \"geometry\": { \"type\": \"Point\", \"coordinates\": [77.6015, 12.9682] }\n    },\n    {\n      \"type\": \"Feature\",\n      \"properties\": {\n        \"id\": \"cand-009\",\n        \"type\": \"candidate\",\n        \"estimated_rent\": 51000,\n        \"notes\": \"minor intersection, potential visibility\"\n      },\n      \"geometry\": { \"type\": \"Point\", \"coordinates\": [77.5995, 12.9668] }\n    },\n    {\n      \"type\": \"Feature\",\n      \"properties\": {\n        \"id\": \"cand-010\",\n        \"type\": \"candidate\",\n        \"estimated_rent\": 64000,\n        \"notes\": \"proximate to university student population\"\n      },\n      \"geometry\": { \"type\": \"Point\", \"coordinates\": [77.5859, 12.9658] }\n    },\n    {\n      \"type\": \"Feature\",\n      \"properties\": {\n        \"id\": \"cand-011\",\n        \"type\": \"candidate\",\n        \"estimated_rent\": 70000,\n        \"notes\": \"walkable to multiple offices\"\n      },\n      \"geometry\": { \"type\": \"Point\", \"coordinates\": [77.6009, 12.9730] }\n    },\n    {\n      \"type\": \"Feature\",\n      \"properties\": {\n        \"id\": \"cand-012\",\n        \"type\": \"candidate\",\n        \"estimated_rent\": 47000,\n        \"notes\": \"small local market nearby\"\n      },\n      \"geometry\": { \"type\": \"Point\", \"coordinates\": [77.5942, 12.9770] }\n    }\n  ]\n};\n\nconst LocationList: React.FC = () => {\n  const [candidates, setCandidates] = useState<Feature[]>([]);\n  const [favorites, setFavorites] = useState<Feature[]>([]);\n  const [notification, setNotification] = useState<string | null>(null);\n\n  useEffect(() => {\n    // Load candidates from mock data\n    const featureCollection = mockData as FeatureCollection;\n    const candidateFeatures = featureCollection.features.filter(\n      (feature): feature is Feature => \n        feature.properties.type === 'candidate'\n    );\n    setCandidates(candidateFeatures);\n\n    // Always get the fresh communication service instance\n    const communication = getCommunicationService();\n    \n    // Subscribe to favorites\n    const favoritesSubscription = communication.favoriteCandidates$.subscribe(setFavorites);\n\n    return () => {\n      favoritesSubscription.unsubscribe();\n    };\n  }, []);\n\n  const handleAddToFavorites = (candidate: Feature) => {\n    const communication = getCommunicationService(); // Get fresh instance\n    communication.addFavoriteCandidate(candidate, 'maps');\n    \n    // Send additional message for analytics tracking\n    communication.sendMessage('FAVORITE_ANALYTICS', {\n      action: 'added',\n      candidateId: candidate.properties.id,\n      totalFavorites: communication.getFavoriteCandidates().length + 1,\n      timestamp: Date.now(),\n      location: candidate.geometry.coordinates,\n      rent: (candidate.properties as CandidateLocation).estimated_rent\n    }, 'maps');\n\n    // Show notification\n    setNotification(`${candidate.properties.id} added to favorites`);\n    setTimeout(() => setNotification(null), 3000);\n  };\n\n  const handleRemoveFromFavorites = (candidateId: string) => {\n    const communication = getCommunicationService(); // Get fresh instance\n    communication.removeFavoriteCandidate(candidateId, 'maps');\n    \n    // Send additional message for analytics tracking\n    communication.sendMessage('FAVORITE_ANALYTICS', {\n      action: 'removed',\n      candidateId,\n      totalFavorites: communication.getFavoriteCandidates().length - 1,\n      timestamp: Date.now()\n    }, 'maps');\n\n    // Show notification  \n    setNotification(`${candidateId} removed from favorites`);\n    setTimeout(() => setNotification(null), 3000);\n  };\n\n  const isFavorite = (candidateId: string) => {\n    return favorites.some(fav => fav.properties.id === candidateId);\n  };\n\n  const formatCurrency = (amount: number) => {\n    return new Intl.NumberFormat('en-IN', {\n      style: 'currency',\n      currency: 'INR',\n      maximumFractionDigits: 0\n    }).format(amount);\n  };\n\n  return (\n    <div className=\"relative\">\n      {/* Notification */}\n      {notification && (\n        <div className=\"fixed top-4 right-4 z-50 bg-green-500 text-white px-4 py-2 rounded-lg shadow-lg transition-all duration-300\">\n          <div className=\"flex items-center\">\n            <svg className=\"w-5 h-5 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\n            </svg>\n            {notification}\n          </div>\n        </div>\n      )}\n      \n      <div className=\"p-6 bg-white rounded-lg shadow-lg\">\n        <h2 className=\"text-2xl font-bold text-gray-800 mb-4\">\n          Location Candidates\n        </h2>\n      \n      <div className=\"space-y-4 max-h-96 overflow-y-auto\">\n        {candidates.map((candidate) => {\n          const props = candidate.properties as CandidateLocation;\n          const isFav = isFavorite(props.id);\n          \n          return (\n            <div\n              key={props.id}\n              className=\"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow duration-200\"\n            >\n              <div className=\"flex justify-between items-start\">\n                <div className=\"flex-1\">\n                  <div className=\"flex items-center gap-2 mb-2\">\n                    <span className=\"font-semibold text-lg text-gray-800\">\n                      {props.id}\n                    </span>\n                    <span className=\"text-sm text-gray-500\">\n                      [{candidate.geometry.coordinates[1].toFixed(4)}, {candidate.geometry.coordinates[0].toFixed(4)}]\n                    </span>\n                  </div>\n                  \n                  <p className=\"text-gray-600 mb-2\">{props.notes}</p>\n                  \n                  <div className=\"text-xl font-bold text-green-600\">\n                    {formatCurrency(props.estimated_rent)}\n                    <span className=\"text-sm text-gray-500 font-normal\">/month</span>\n                  </div>\n                </div>\n                \n                <button\n                  onClick={() => \n                    isFav \n                      ? handleRemoveFromFavorites(props.id)\n                      : handleAddToFavorites(candidate)\n                  }\n                  className={`p-2 rounded-full transition-colors duration-200 ${\n                    isFav\n                      ? 'text-red-500 hover:bg-red-50'\n                      : 'text-gray-400 hover:text-red-500 hover:bg-red-50'\n                  }`}\n                  title={isFav ? 'Remove from favorites' : 'Add to favorites'}\n                >\n                  <svg\n                    className=\"w-6 h-6\"\n                    fill={isFav ? 'currentColor' : 'none'}\n                    stroke=\"currentColor\"\n                    viewBox=\"0 0 24 24\"\n                  >\n                    <path\n                      strokeLinecap=\"round\"\n                      strokeLinejoin=\"round\"\n                      strokeWidth={2}\n                      d=\"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z\"\n                    />\n                  </svg>\n                </button>\n              </div>\n            </div>\n          );\n        })}\n      </div>\n\n      {favorites.length > 0 && (\n        <div className=\"mt-6 p-4 bg-red-50 rounded-lg\">\n          <div className=\"flex items-center justify-between mb-2\">\n            <h3 className=\"font-semibold text-red-800\">\n              Favorites ({favorites.length})\n            </h3>\n            <div className=\"flex items-center text-sm text-green-600\">\n              <div className=\"w-2 h-2 bg-green-400 rounded-full mr-2 animate-pulse\"></div>\n              Synced to Insights\n            </div>\n          </div>\n          <div className=\"flex flex-wrap gap-2\">\n            {favorites.map((fav) => {\n              const props = fav.properties as CandidateLocation;\n              return (\n                <span\n                  key={props.id}\n                  className=\"inline-flex items-center px-3 py-1 rounded-full text-sm bg-red-100 text-red-800\"\n                >\n                  {props.id}\n                  <button\n                    onClick={() => handleRemoveFromFavorites(props.id)}\n                    className=\"ml-2 hover:text-red-600\"\n                    title=\"Remove from favorites\"\n                  >\n                    √ó\n                  </button>\n                </span>\n              );\n            })}\n          </div>\n        </div>\n      )}\n      </div>\n    </div>\n  );\n};\n\nexport default LocationList;\n","import { useState, useEffect } from 'react';\nimport { MapContainer, TileLayer } from 'react-leaflet';\nimport 'leaflet/dist/leaflet.css';\nimport L from 'leaflet';\nimport { MockDataResponse, fetchMockData, getPOIs, getCandidates, Candidate } from '../services/mockDataService';\nimport { POIMarker } from './POIMarker';\nimport { CandidateMarker } from './CandidateMarker';\n\n// Fix for default markers in React Leaflet\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\ndelete (L.Icon.Default.prototype as any)._getIconUrl;\nL.Icon.Default.mergeOptions({\n  iconRetinaUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png',\n  iconUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png',\n  shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png',\n});\n\nexport function POIMap() {\n  const [mockData, setMockData] = useState<MockDataResponse | null>(null);\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const [showCandidates, setShowCandidates] = useState(true);\n  const [showPOIs, setShowPOIs] = useState(true);\n  const [favoriteCandidates, setFavoriteCandidates] = useState<Set<string>>(new Set());\n  const [showFavoritesPanel, setShowFavoritesPanel] = useState(false);\n\n  // Bangalore coordinates - center of our POI data\n  const bangaloreCenter: [number, number] = [12.9716, 77.5946];\n\n  useEffect(() => {\n    const loadData = async () => {\n      try {\n        setIsLoading(true);\n        const data = await fetchMockData();\n        setMockData(data);\n        setError(null);\n      } catch (err) {\n        setError('Failed to load POI data');\n        console.error('Error loading mock data:', err);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    loadData();\n  }, []);\n\n  const poiFeatures = mockData ? getPOIs(mockData) : [];\n  const candidateFeatures = mockData ? getCandidates(mockData) : [];\n\n  const toggleFavorite = (candidateId: string) => {\n    setFavoriteCandidates(prev => {\n      const newFavorites = new Set(prev);\n      if (newFavorites.has(candidateId)) {\n        newFavorites.delete(candidateId);\n      } else {\n        newFavorites.add(candidateId);\n      }\n      return newFavorites;\n    });\n  };\n\n  const getFavoriteCandidates = () => {\n    return candidateFeatures.filter(feature => \n      favoriteCandidates.has(feature.properties.id)\n    );\n  };\n\n  const getPoiTypeStats = () => {\n    const stats: { [key: string]: number } = {};\n    poiFeatures.forEach(feature => {\n      const type = feature.properties.type;\n      stats[type] = (stats[type] || 0) + 1;\n    });\n    return stats;\n  };\n\n  const poiStats = getPoiTypeStats();\n  const candidateCount = candidateFeatures.length;\n\n  if (isLoading) {\n    return (\n      <div className=\"h-96 w-full rounded-lg bg-gray-100 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto mb-2\"></div>\n          <p className=\"text-gray-600\">Loading POI data...</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"h-96 w-full rounded-lg bg-red-50 flex items-center justify-center\">\n        <div className=\"text-center text-red-600\">\n          <p className=\"font-medium\">Error loading map data</p>\n          <p className=\"text-sm\">{error}</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-4\">\n      {/* POI Statistics */}\n      <div className=\"bg-white p-4 rounded-lg shadow-sm border\">\n        <div className=\"flex items-center justify-between mb-3\">\n          <h3 className=\"text-lg font-semibold text-gray-800\">Map Overview</h3>\n          <div className=\"flex items-center space-x-4\">\n            <label className=\"flex items-center text-sm\">\n              <input\n                type=\"checkbox\"\n                checked={showPOIs}\n                onChange={(e) => setShowPOIs(e.target.checked)}\n                className=\"mr-2\"\n              />\n              Show POIs ({poiFeatures.length})\n            </label>\n            <label className=\"flex items-center text-sm\">\n              <input\n                type=\"checkbox\"\n                checked={showCandidates}\n                onChange={(e) => setShowCandidates(e.target.checked)}\n                className=\"mr-2\"\n              />\n              Show Candidates ({candidateCount})\n            </label>\n            <button\n              onClick={() => setShowFavoritesPanel(!showFavoritesPanel)}\n              className=\"flex items-center space-x-2 px-3 py-2 bg-pink-100 text-pink-700 rounded-lg hover:bg-pink-200 transition-colors\"\n              title=\"View Favorite Candidates\"\n            >\n              <span \n                className=\"text-lg\"\n                role=\"img\"\n                aria-label=\"Favorites\"\n              >\n                ‚ù§Ô∏è\n              </span>\n              <span className=\"text-sm font-medium\">Favorites ({favoriteCandidates.size})</span>\n            </button>\n          </div>\n        </div>\n        <div className=\"flex flex-wrap gap-2\">\n          {Object.entries(poiStats).map(([type, count]) => (\n            <span \n              key={type} \n              className=\"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800\"\n            >\n              <span className=\"capitalize\">{type}</span>\n              <span className=\"ml-1 bg-blue-200 text-blue-800 rounded-full px-2 py-0.5 text-xs\">\n                {count}\n              </span>\n            </span>\n          ))}\n          {candidateCount > 0 && (\n            <span className=\"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800\">\n              <span>Candidates</span>\n              <span className=\"ml-1 bg-green-200 text-green-800 rounded-full px-2 py-0.5 text-xs\">\n                {candidateCount}\n              </span>\n            </span>\n          )}\n        </div>\n        <p className=\"text-sm text-gray-600 mt-2\">\n          Click on markers for detailed information | Use checkboxes to toggle layers\n        </p>\n      </div>\n\n      {/* Interactive Map */}\n      <div className=\"h-96 w-full rounded-lg overflow-hidden shadow-lg border\">\n        <MapContainer \n          center={bangaloreCenter} \n          zoom={13} \n          style={{ height: '100%', width: '100%' }}\n        >\n          <TileLayer\n            url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n            attribution='&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\n          />\n          \n          {/* Render POI markers */}\n          {showPOIs && poiFeatures.map((feature) => (\n            <POIMarker \n              key={feature.properties.id} \n              feature={feature} \n            />\n          ))}\n          \n          {/* Render candidate markers */}\n          {showCandidates && candidateFeatures.map((feature) => (\n            <CandidateMarker \n              key={feature.properties.id} \n              feature={feature}\n              isFavorite={favoriteCandidates.has(feature.properties.id)}\n              onToggleFavorite={toggleFavorite}\n            />\n          ))}\n        </MapContainer>\n      </div>\n\n      {/* Legend */}\n      <div className=\"bg-white p-4 rounded-lg shadow-sm border\">\n        <h4 className=\"text-sm font-semibold text-gray-800 mb-3\">Map Legend</h4>\n        \n        {/* POI Legend */}\n        <div className=\"mb-4\">\n          <h5 className=\"text-xs font-medium text-gray-700 mb-2\">Points of Interest (POIs)</h5>\n          <div className=\"grid grid-cols-2 md:grid-cols-3 gap-2 text-sm\">\n            <div className=\"flex items-center\">\n              <span className=\"mr-2\" role=\"img\" aria-label=\"cafe\">‚òï</span>\n              <span>Cafes</span>\n            </div>\n            <div className=\"flex items-center\">\n              <span className=\"mr-2\" role=\"img\" aria-label=\"office\">üè¢</span>\n              <span>Offices</span>\n            </div>\n            <div className=\"flex items-center\">\n              <span className=\"mr-2\" role=\"img\" aria-label=\"transit\">üöá</span>\n              <span>Transit</span>\n            </div>\n            <div className=\"flex items-center\">\n              <span className=\"mr-2\" role=\"img\" aria-label=\"university\">üéì</span>\n              <span>University</span>\n            </div>\n            <div className=\"flex items-center\">\n              <span className=\"mr-2\" role=\"img\" aria-label=\"mall\">üõí</span>\n              <span>Mall</span>\n            </div>\n            <div className=\"flex items-center\">\n              <span className=\"mr-2\" role=\"img\" aria-label=\"residential\">üè†</span>\n              <span>Residential</span>\n            </div>\n          </div>\n        </div>\n\n        {/* Candidate Legend */}\n        <div>\n          <h5 className=\"text-xs font-medium text-gray-700 mb-2\">Candidate Locations (Rent Categories)</h5>\n          <div className=\"grid grid-cols-2 gap-2 text-sm\">\n            <div className=\"flex items-center\">\n              <div className=\"w-4 h-4 bg-blue-500 rounded-full mr-2\"></div>\n              <span>Low (‚Çπ50K-)</span>\n            </div>\n            <div className=\"flex items-center\">\n              <div className=\"w-4 h-4 bg-green-500 rounded-full mr-2\"></div>\n              <span>Medium (‚Çπ50K-65K)</span>\n            </div>\n            <div className=\"flex items-center\">\n              <div className=\"w-4 h-4 bg-orange-500 rounded-full mr-2\"></div>\n              <span>Medium-High (‚Çπ65K-80K)</span>\n            </div>\n            <div className=\"flex items-center\">\n              <div className=\"w-4 h-4 bg-red-500 rounded-full mr-2\"></div>\n              <span>High (‚Çπ80K+)</span>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Favorites Panel */}\n      {showFavoritesPanel && (\n        <div className=\"bg-white p-4 rounded-lg shadow-sm border\">\n          <div className=\"flex items-center justify-between mb-3\">\n            <h4 className=\"text-lg font-semibold text-gray-800\">\n              Favorite Candidates ({favoriteCandidates.size})\n            </h4>\n            <button\n              onClick={() => setShowFavoritesPanel(false)}\n              className=\"text-gray-500 hover:text-gray-700\"\n              title=\"Close favorites panel\"\n            >\n              ‚úï\n            </button>\n          </div>\n          \n          {favoriteCandidates.size === 0 ? (\n            <div className=\"text-center py-8\">\n              <span \n                className=\"text-4xl mb-2 block\"\n                role=\"img\"\n                aria-label=\"No favorites\"\n              >\n                üíî\n              </span>\n              <p className=\"text-gray-500\">No favorite candidates selected yet.</p>\n              <p className=\"text-sm text-gray-400 mt-1\">\n                Click the heart icon on candidate markers to add them to favorites.\n              </p>\n            </div>\n          ) : (\n            <div className=\"space-y-3\">\n              {getFavoriteCandidates().map((candidate) => {\n                const props = candidate.properties as Candidate;\n                const getRentColor = (rent: number): string => {\n                  if (rent >= 80000) return '#EF4444';\n                  if (rent >= 65000) return '#F59E0B';\n                  if (rent >= 50000) return '#10B981';\n                  return '#3B82F6';\n                };\n                \n                return (\n                  <div key={props.id} className=\"border rounded-lg p-3 bg-gray-50\">\n                    <div className=\"flex items-center justify-between mb-2\">\n                      <div className=\"flex items-center\">\n                        <span \n                          className=\"inline-block w-3 h-3 rounded-full mr-2\"\n                          style={{ backgroundColor: getRentColor(props.estimated_rent) }}\n                        ></span>\n                        <span className=\"font-medium text-gray-800\">{props.id}</span>\n                      </div>\n                      <button\n                        onClick={() => toggleFavorite(props.id)}\n                        className=\"text-red-500 hover:text-red-600\"\n                        title=\"Remove from favorites\"\n                      >\n                        <span \n                          role=\"img\"\n                          aria-label=\"Remove from favorites\"\n                        >\n                          ‚ù§Ô∏è\n                        </span>\n                      </button>\n                    </div>\n                    <div className=\"text-sm text-gray-600\">\n                      <div className=\"font-semibold\">\n                        ‚Çπ{props.estimated_rent.toLocaleString('en-IN')}/month\n                      </div>\n                      <div className=\"mt-1 italic\">{props.notes}</div>\n                      <div className=\"mt-1 text-xs\">\n                        Lat: {candidate.geometry.coordinates[1].toFixed(4)}, \n                        Lng: {candidate.geometry.coordinates[0].toFixed(4)}\n                      </div>\n                    </div>\n                  </div>\n                );\n              })}\n            </div>\n          )}\n        </div>\n      )}\n    </div>\n  );\n}\n","import { Marker, Popup } from 'react-leaflet';\nimport L from 'leaflet';\nimport { GeoFeature, POI, getPOIIcon } from '../services/mockDataService';\n\ninterface POIMarkerProps {\n  feature: GeoFeature;\n}\n\nconst createCustomIcon = (poiType: string) => {\n  const emoji = getPOIIcon(poiType);\n  const html = `\n    <div style=\"\n      background: white; \n      border: 2px solid #3B82F6; \n      border-radius: 50%; \n      width: 30px; \n      height: 30px; \n      display: flex; \n      align-items: center; \n      justify-content: center; \n      font-size: 16px;\n      box-shadow: 0 2px 4px rgba(0,0,0,0.2);\n    \">\n      ${emoji}\n    </div>\n  `;\n\n  return L.divIcon({\n    html,\n    className: 'custom-poi-marker',\n    iconSize: [30, 30],\n    iconAnchor: [15, 15],\n    popupAnchor: [0, -15],\n  });\n};\n\nexport function POIMarker({ feature }: POIMarkerProps) {\n  const { coordinates } = feature.geometry;\n  const properties = feature.properties as POI;\n  // Convert from GeoJSON [longitude, latitude] to Leaflet [latitude, longitude]\n  const position: [number, number] = [coordinates[1], coordinates[0]];\n\n  const getTypeColor = (type: string): string => {\n    const colors: { [key: string]: string } = {\n      cafe: '#8B5CF6',\n      office: '#3B82F6',\n      transit: '#10B981',\n      university: '#F59E0B',\n      mall: '#EF4444',\n      residential: '#6B7280'\n    };\n    return colors[type] || '#6B7280';\n  };\n\n  const renderPropertyInfo = () => {\n    const items = [];\n    \n    if (properties.rating) {\n      items.push(`Rating: ${properties.rating} ‚≠ê`);\n    }\n    if (properties.visitors_per_day) {\n      items.push(`Daily Visitors: ${properties.visitors_per_day.toLocaleString()}`);\n    }\n    if (properties.employees) {\n      items.push(`Employees: ${properties.employees.toLocaleString()}`);\n    }\n    if (properties.students) {\n      items.push(`Students: ${properties.students.toLocaleString()}`);\n    }\n    if (properties.households) {\n      items.push(`Households: ${properties.households.toLocaleString()}`);\n    }\n    if (properties.daily_entries) {\n      items.push(`Daily Entries: ${properties.daily_entries.toLocaleString()}`);\n    }\n    if (properties.mode) {\n      items.push(`Mode: ${properties.mode}`);\n    }\n\n    return items;\n  };\n\n  return (\n    <Marker \n      position={position} \n      icon={createCustomIcon(properties.type)}\n    >\n      <Popup maxWidth={300}>\n        <div className=\"p-2\">\n          <div className=\"flex items-center mb-2\">\n            <span \n              className=\"inline-block w-3 h-3 rounded-full mr-2\"\n              style={{ backgroundColor: getTypeColor(properties.type) }}\n            ></span>\n            <h3 className=\"text-lg font-semibold text-gray-800 capitalize\">\n              {properties.name}\n            </h3>\n          </div>\n          \n          <div className=\"mb-2\">\n            <span \n              className=\"inline-block px-2 py-1 text-xs font-medium rounded text-white capitalize\"\n              style={{ backgroundColor: getTypeColor(properties.type) }}\n            >\n              {properties.type}\n            </span>\n          </div>\n\n          {renderPropertyInfo().length > 0 && (\n            <div className=\"mb-2\">\n              {renderPropertyInfo().map((info, index) => (\n                <div key={index} className=\"text-sm text-gray-600\">\n                  {info}\n                </div>\n              ))}\n            </div>\n          )}\n\n          {properties.tags && properties.tags.length > 0 && (\n            <div className=\"flex flex-wrap gap-1 mt-2\">\n              {properties.tags.map((tag, index) => (\n                <span \n                  key={index} \n                  className=\"inline-block px-2 py-1 text-xs bg-gray-100 text-gray-700 rounded\"\n                >\n                  #{tag}\n                </span>\n              ))}\n            </div>\n          )}\n\n          <div className=\"mt-3 pt-2 border-t border-gray-200\">\n            <div className=\"text-xs text-gray-500\">\n              Lat: {coordinates[1].toFixed(4)}, Lng: {coordinates[0].toFixed(4)}\n            </div>\n          </div>\n        </div>\n      </Popup>\n    </Marker>\n  );\n}\n","import { useEffect, useRef } from 'react';\n\nexport default function VueAppWrapper() {\n  const containerRef = useRef<HTMLDivElement>(null);\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  const vueAppRef = useRef<any>(null);\n\n  useEffect(() => {\n    const loadVueApp = async () => {\n      try {\n        // Dynamically import the Vue app from the remote\n        const { default: VueApp } = await import('vue-app/Module');\n        const { createApp } = await import('vue');\n        \n        if (containerRef.current && !vueAppRef.current) {\n          vueAppRef.current = createApp(VueApp);\n          vueAppRef.current.mount(containerRef.current);\n        }\n      } catch (error) {\n        console.error('Failed to load Vue microfrontend:', error);\n        if (containerRef.current) {\n          containerRef.current.innerHTML = `\n            <div class=\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded\">\n              <p class=\"font-bold\">Error loading Vue Microfrontend</p>\n            </div>\n          `;\n        }\n      }\n    };\n\n    loadVueApp();\n\n    return () => {\n      if (vueAppRef.current) {\n        vueAppRef.current.unmount();\n        vueAppRef.current = null;\n      }\n    };\n  }, []);\n\n  return <div ref={containerRef}></div>;\n}\n","import { POIMap } from './components/POIMap';\n\nexport function MapsWelcome() {\n  return (\n    <div className=\"bg-white rounded-lg shadow-lg p-6\">\n      <div className=\"text-center mb-6\">\n        <h1 className=\"text-3xl font-bold text-gray-800 mb-2\">Maps & Location Data</h1>\n        <p className=\"text-gray-600\">Explore Points of Interest and Location Candidates</p>\n      </div>\n      \n      <div>\n        <h2 className=\"text-2xl font-semibold text-gray-800 mb-4\">Interactive Map</h2>\n        <POIMap />\n      </div>\n    </div>\n  );\n}\n","export interface POI {\n  id: string;\n  type: string;\n  name: string;\n  rating?: number;\n  visitors_per_day?: number;\n  employees?: number;\n  students?: number;\n  households?: number;\n  daily_entries?: number;\n  mode?: string;\n  tags: string[];\n}\n\nexport interface Candidate {\n  id: string;\n  type: 'candidate';\n  estimated_rent: number;\n  notes: string;\n}\n\nexport interface GeoFeature {\n  type: 'Feature';\n  properties: POI | Candidate;\n  geometry: {\n    type: 'Point';\n    coordinates: [number, number]; // [longitude, latitude]\n  };\n}\n\nexport interface MockDataResponse {\n  type: 'FeatureCollection';\n  features: GeoFeature[];\n}\n\nexport const fetchMockData = async (): Promise<MockDataResponse> => {\n  console.log('Returning complete mock data with all POIs and candidates');\n  const fullMockData: MockDataResponse = {\n    type: 'FeatureCollection',\n    features: [\n      {\n        type: 'Feature',\n        properties: {\n          id: 'poi-001',\n          type: 'cafe',\n          name: 'Bean & Brew',\n          rating: 4.3,\n          visitors_per_day: 140,\n          tags: ['coffee', 'breakfast']\n        },\n        geometry: { type: 'Point', coordinates: [77.6245, 12.9352] }\n      },\n      {\n        type: 'Feature',\n        properties: {\n          id: 'poi-002',\n          type: 'office',\n          name: 'TechPark A',\n          employees: 1200,\n          tags: ['office', 'corporate']\n        },\n        geometry: { type: 'Point', coordinates: [77.5950, 12.9725] }\n      },\n      {\n        type: 'Feature',\n        properties: {\n          id: 'poi-003',\n          type: 'transit',\n          name: 'Metro Station X',\n          mode: 'metro',\n          daily_entries: 8000,\n          tags: ['metro', 'transit']\n        },\n        geometry: { type: 'Point', coordinates: [77.5991, 12.9719] }\n      },\n      {\n        type: 'Feature',\n        properties: {\n          id: 'poi-004',\n          type: 'university',\n          name: 'City University',\n          students: 15000,\n          tags: ['education', 'students']\n        },\n        geometry: { type: 'Point', coordinates: [77.5857, 12.9660] }\n      },\n      {\n        type: 'Feature',\n        properties: {\n          id: 'poi-005',\n          type: 'mall',\n          name: 'Central Mall',\n          visitors_per_day: 5200,\n          tags: ['retail', 'mall']\n        },\n        geometry: { type: 'Point', coordinates: [77.6102, 12.9712] }\n      },\n      {\n        type: 'Feature',\n        properties: {\n          id: 'poi-006',\n          type: 'cafe',\n          name: 'Roast & Relax',\n          rating: 4.0,\n          visitors_per_day: 90,\n          tags: ['coffee', 'work-friendly']\n        },\n        geometry: { type: 'Point', coordinates: [77.6080, 12.9770] }\n      },\n      {\n        type: 'Feature',\n        properties: {\n          id: 'poi-007',\n          type: 'residential',\n          name: 'Highrise Residences',\n          households: 420,\n          tags: ['residential']\n        },\n        geometry: { type: 'Point', coordinates: [77.5975, 12.9628] }\n      },\n      {\n        type: 'Feature',\n        properties: {\n          id: 'poi-008',\n          type: 'office',\n          name: 'FinTech Tower',\n          employees: 600,\n          tags: ['office', 'startup']\n        },\n        geometry: { type: 'Point', coordinates: [77.6018, 12.9684] }\n      },\n      {\n        type: 'Feature',\n        properties: {\n          id: 'poi-009',\n          type: 'transit',\n          name: 'Major Bus Interchange',\n          mode: 'bus',\n          daily_entries: 3000,\n          tags: ['bus', 'transit']\n        },\n        geometry: { type: 'Point', coordinates: [77.5899, 12.9735] }\n      },\n      {\n        type: 'Feature',\n        properties: {\n          id: 'poi-010',\n          type: 'cafe',\n          name: 'Corner Cup',\n          rating: 3.9,\n          visitors_per_day: 60,\n          tags: ['coffee', 'takeaway']\n        },\n        geometry: { type: 'Point', coordinates: [77.5959, 12.9778] }\n      },\n      {\n        type: 'Feature',\n        properties: {\n          id: 'poi-011',\n          type: 'office',\n          name: 'Creative Hub',\n          employees: 320,\n          tags: ['office', 'co-working']\n        },\n        geometry: { type: 'Point', coordinates: [77.6170, 12.9680] }\n      },\n      {\n        type: 'Feature',\n        properties: {\n          id: 'poi-012',\n          type: 'residential',\n          name: 'Gated Villas',\n          households: 220,\n          tags: ['residential', 'affluent']\n        },\n        geometry: { type: 'Point', coordinates: [77.6035, 12.9610] }\n      },\n      {\n        type: 'Feature',\n        properties: {\n          id: 'cand-001',\n          type: 'candidate',\n          estimated_rent: 85000,\n          notes: 'near TechPark A, good office density'\n        },\n        geometry: { type: 'Point', coordinates: [77.5958, 12.9718] }\n      },\n      {\n        type: 'Feature',\n        properties: {\n          id: 'cand-002',\n          type: 'candidate',\n          estimated_rent: 72000,\n          notes: 'close to Metro Station X'\n        },\n        geometry: { type: 'Point', coordinates: [77.5985, 12.9716] }\n      },\n      {\n        type: 'Feature',\n        properties: {\n          id: 'cand-003',\n          type: 'candidate',\n          estimated_rent: 65000,\n          notes: 'residential cluster nearby'\n        },\n        geometry: { type: 'Point', coordinates: [77.5965, 12.9640] }\n      },\n      {\n        type: 'Feature',\n        properties: {\n          id: 'cand-004',\n          type: 'candidate',\n          estimated_rent: 90000,\n          notes: 'edge of Central Mall catchment'\n        },\n        geometry: { type: 'Point', coordinates: [77.6090, 12.9710] }\n      },\n      {\n        type: 'Feature',\n        properties: {\n          id: 'cand-005',\n          type: 'candidate',\n          estimated_rent: 48000,\n          notes: 'near bus interchange, lower rent'\n        },\n        geometry: { type: 'Point', coordinates: [77.5898, 12.9732] }\n      },\n      {\n        type: 'Feature',\n        properties: {\n          id: 'cand-006',\n          type: 'candidate',\n          estimated_rent: 56000,\n          notes: 'close to Creative Hub, medium office density'\n        },\n        geometry: { type: 'Point', coordinates: [77.6165, 12.9675] }\n      },\n      {\n        type: 'Feature',\n        properties: {\n          id: 'cand-007',\n          type: 'candidate',\n          estimated_rent: 42000,\n          notes: 'residential area with several households'\n        },\n        geometry: { type: 'Point', coordinates: [77.6030, 12.9605] }\n      },\n      {\n        type: 'Feature',\n        properties: {\n          id: 'cand-008',\n          type: 'candidate',\n          estimated_rent: 78000,\n          notes: 'near FinTech Tower'\n        },\n        geometry: { type: 'Point', coordinates: [77.6015, 12.9682] }\n      },\n      {\n        type: 'Feature',\n        properties: {\n          id: 'cand-009',\n          type: 'candidate',\n          estimated_rent: 51000,\n          notes: 'minor intersection, potential visibility'\n        },\n        geometry: { type: 'Point', coordinates: [77.5995, 12.9668] }\n      },\n      {\n        type: 'Feature',\n        properties: {\n          id: 'cand-010',\n          type: 'candidate',\n          estimated_rent: 64000,\n          notes: 'proximate to university student population'\n        },\n        geometry: { type: 'Point', coordinates: [77.5859, 12.9658] }\n      },\n      {\n        type: 'Feature',\n        properties: {\n          id: 'cand-011',\n          type: 'candidate',\n          estimated_rent: 70000,\n          notes: 'walkable to multiple offices'\n        },\n        geometry: { type: 'Point', coordinates: [77.6009, 12.9730] }\n      },\n      {\n        type: 'Feature',\n        properties: {\n          id: 'cand-012',\n          type: 'candidate',\n          estimated_rent: 47000,\n          notes: 'small local market nearby'\n        },\n        geometry: { type: 'Point', coordinates: [77.5942, 12.9770] }\n      }\n    ]\n  };\n  \n  console.log('Features count:', fullMockData.features?.length);\n  console.log('POIs:', fullMockData.features?.filter((f: GeoFeature) => f.properties.type !== 'candidate')?.length);\n  console.log('Candidates:', fullMockData.features?.filter((f: GeoFeature) => f.properties.type === 'candidate')?.length);\n  \n  return fullMockData;\n};\n\nexport const getPOIs = (data: MockDataResponse): GeoFeature[] => {\n  return data.features.filter(feature => feature.properties.type !== 'candidate');\n};\n\nexport const getCandidates = (data: MockDataResponse): GeoFeature[] => {\n  return data.features.filter(feature => feature.properties.type === 'candidate');\n};\n\nexport const getPOIIcon = (poiType: string): string => {\n  const iconMap: { [key: string]: string } = {\n    cafe: '‚òï',\n    office: 'üè¢',\n    transit: 'üöá',\n    university: 'üéì',\n    mall: 'üõí',\n    residential: 'üè†'\n  };\n  \n  return iconMap[poiType] || 'üìç';\n};\n","export { default } from './app/app';\n","import { BehaviorSubject, Subject } from 'rxjs';\nimport { Feature } from '../types';\n\nexport interface MicrofrontendMessage {\n  type: string;\n  payload: unknown;\n  source: string;\n  timestamp: number;\n}\n\nclass MicrofrontendCommunicationService {\n  private static instance: MicrofrontendCommunicationService;\n  \n  // Global message bus for any communication\n  private globalMessageSubject = new Subject<MicrofrontendMessage>();\n  \n  // Specific streams for different types of data\n  private favoriteCandidatesSubject = new BehaviorSubject<Feature[]>([]);\n  private selectedCandidateSubject = new BehaviorSubject<Feature | null>(null);\n  \n  private constructor() {\n    // Make the service available globally for microfrontends\n    if (typeof window !== 'undefined') {\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      (window as any).__MICROFRONTEND_COMMUNICATION__ = this;\n      console.log('üó∫Ô∏è [Maps] Communication service initialized and set globally');\n    }\n  }\n  \n  static getInstance(): MicrofrontendCommunicationService {\n    // First check if there's already a global instance\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    if (typeof window !== 'undefined' && (window as any).__MICROFRONTEND_COMMUNICATION__) {\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      return (window as any).__MICROFRONTEND_COMMUNICATION__;\n    }\n    \n    if (!MicrofrontendCommunicationService.instance) {\n      MicrofrontendCommunicationService.instance = new MicrofrontendCommunicationService();\n    }\n    return MicrofrontendCommunicationService.instance;\n  }\n  \n  // Global message bus methods\n  sendMessage(type: string, payload: unknown, source: string) {\n    const message: MicrofrontendMessage = {\n      type,\n      payload,\n      source,\n      timestamp: Date.now()\n    };\n    this.globalMessageSubject.next(message);\n  }\n  \n  get messages$() {\n    return this.globalMessageSubject.asObservable();\n  }\n  \n  // Favorite candidates methods\n  addFavoriteCandidate(candidate: Feature, source = 'unknown') {\n    console.log('üó∫Ô∏è [Maps] Adding favorite:', candidate.properties.id, 'from:', source);\n    const currentFavorites = this.favoriteCandidatesSubject.value;\n    const isAlreadyFavorite = currentFavorites.some(fav => fav.properties.id === candidate.properties.id);\n    \n    if (!isAlreadyFavorite) {\n      const newFavorites = [...currentFavorites, candidate];\n      this.favoriteCandidatesSubject.next(newFavorites);\n      this.sendMessage('FAVORITE_ADDED', candidate, source);\n      console.log('üó∫Ô∏è [Maps] Favorites updated. Total:', newFavorites.length);\n    }\n  }\n  \n  removeFavoriteCandidate(candidateId: string, source = 'unknown') {\n    const currentFavorites = this.favoriteCandidatesSubject.value;\n    const newFavorites = currentFavorites.filter(fav => fav.properties.id !== candidateId);\n    this.favoriteCandidatesSubject.next(newFavorites);\n    this.sendMessage('FAVORITE_REMOVED', { candidateId }, source);\n  }\n  \n  setFavoriteCandidates(candidates: Feature[], source = 'unknown') {\n    this.favoriteCandidatesSubject.next(candidates);\n    this.sendMessage('FAVORITES_SET', candidates, source);\n  }\n  \n  get favoriteCandidates$() {\n    return this.favoriteCandidatesSubject.asObservable();\n  }\n  \n  getFavoriteCandidates(): Feature[] {\n    return this.favoriteCandidatesSubject.value;\n  }\n  \n  // Selected candidate methods\n  selectCandidate(candidate: Feature | null, source = 'unknown') {\n    this.selectedCandidateSubject.next(candidate);\n    this.sendMessage('CANDIDATE_SELECTED', candidate, source);\n  }\n  \n  get selectedCandidate$() {\n    return this.selectedCandidateSubject.asObservable();\n  }\n  \n  getSelectedCandidate(): Feature | null {\n    return this.selectedCandidateSubject.value;\n  }\n}\n\n// Create and export the singleton instance\nexport const communicationService = MicrofrontendCommunicationService.getInstance();\n\n// Export helper functions for easier use\nexport const useCommunication = () => {\n  const service = getCommunicationService(); // Always get the latest global instance\n  \n  return {\n    sendMessage: (type: string, payload: unknown, source: string) => \n      service.sendMessage(type, payload, source),\n    \n    addFavorite: (candidate: Feature, source?: string) => \n      service.addFavoriteCandidate(candidate, source),\n    \n    removeFavorite: (candidateId: string, source?: string) => \n      service.removeFavoriteCandidate(candidateId, source),\n    \n    selectCandidate: (candidate: Feature | null, source?: string) => \n      service.selectCandidate(candidate, source),\n    \n    // Observables\n    messages$: service.messages$,\n    favoriteCandidates$: service.favoriteCandidates$,\n    selectedCandidate$: service.selectedCandidate$,\n    \n    // Current values\n    getFavorites: () => service.getFavoriteCandidates(),\n    getSelected: () => service.getSelectedCandidate(),\n  };\n};\n\n// Global access helper for microfrontends\nexport const getCommunicationService = (): MicrofrontendCommunicationService => {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  if (typeof window !== 'undefined' && (window as any).__MICROFRONTEND_COMMUNICATION__) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return (window as any).__MICROFRONTEND_COMMUNICATION__;\n  }\n  return communicationService;\n};\n"],"names":["MapsWelcome","LocationList","VueAppWrapper","App","Marker","Popup","L","createCandidateIcon","rentValue","getColor","rent","color","html","CandidateMarker","param","feature","isFavorite","onToggleFavorite","coordinates","properties","position","getRentCategory","getRentColor","React","useState","useEffect","getCommunicationService","mockData","_useState","candidates","setCandidates","_useState1","favorites","setFavorites","_useState2","notification","setNotification","featureCollection","candidateFeatures","communication","favoritesSubscription","handleAddToFavorites","candidate","Date","setTimeout","handleRemoveFromFavorites","candidateId","fav","formatCurrency","amount","Intl","props","isFav","MapContainer","TileLayer","fetchMockData","getPOIs","getCandidates","POIMarker","POIMap","setMockData","isLoading","setIsLoading","error","setError","_useState3","showCandidates","setShowCandidates","_useState4","showPOIs","setShowPOIs","_useState5","Set","favoriteCandidates","setFavoriteCandidates","_useState6","showFavoritesPanel","setShowFavoritesPanel","bangaloreCenter","loadData","data","err","console","poiFeatures","toggleFavorite","prev","newFavorites","getFavoriteCandidates","getPoiTypeStats","stats","type","poiStats","candidateCount","e","Object","count","getPOIIcon","createCustomIcon","poiType","emoji","getTypeColor","colors","renderPropertyInfo","items","info","index","tag","useRef","containerRef","vueAppRef","loadVueApp","_ref","VueApp","createApp","_fullMockData_features","_fullMockData_features_filter","_fullMockData_features_filter1","fullMockData","f","iconMap","default","BehaviorSubject","Subject","MicrofrontendCommunicationService","window","sendMessage","payload","source","message","addFavoriteCandidate","currentFavorites","isAlreadyFavorite","removeFavoriteCandidate","selectCandidate","getSelectedCandidate","getInstance","communicationService","useCommunication","service"],"mappings":"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"}